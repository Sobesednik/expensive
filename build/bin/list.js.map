{"version":3,"sources":["../../src/bin/list.js"],"names":["list","nc","sort","desc","page","filter","type","pageSize","domains","CurrentPage","PageSize","TotalItems","getList","t","Math","ceil","answer","text","defaultValue"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAAqC;;AAErC;AACe,eAAeA,IAAf,CAAoBC,EAApB,EAAwB;AACrCC,MADqC;AAErCC,MAFqC;AAGrCC,MAHqC;AAIrCC,QAJqC;AAKrCC,MALqC;AAMrCC;AANqC,IAOnC,EAPW,EAOP;AACN,QAAM;AAAEC,WAAF;AAAWC,eAAX;AAAwBC,YAAxB;AAAkCC;AAAlC,MAAiD,MAAMV,GAAGO,OAAH,CAAWI,OAAX,CAAmB;AAC9ER,QAD8E;AAE9EF,QAF8E;AAG9EC,QAH8E;AAI9EE,UAJ8E;AAK9EC,QAL8E;AAM9EC;AAN8E,GAAnB,CAA7D;AAQA,qBAAUC,OAAV;;AACA,MAAIC,cAAcC,QAAd,GAAyBC,UAA7B,EAAyC;AACvC,UAAME,IAAK,GAAEJ,WAAY,IAAGK,KAAKC,IAAL,CAAUJ,aAAWD,QAArB,CAA+B,EAA3D;AACA,UAAMM,SAAS,MAAM,0BAAU;AAC7BC,YAAO,QAAOJ,CAAE,gBADa;AAE7BK,oBAAc;AAFe,KAAV,CAArB;;AAIA,QAAIF,UAAU,GAAd,EAAmB;AACjB,YAAMhB,KAAKC,EAAL,EAAS;AACbG,cAAMK,cAAc,CADP;AAEbP,YAFa;AAGbC,YAHa;AAIbE,cAJa;AAKbC,YALa;AAMbC;AANa,OAAT,CAAN;AAQD;AACF;AACF","sourcesContent":["import { askSingle } from 'reloquent'\nimport printList from '../lib/print/list'\nimport Namecheap from '../Namecheap' // eslint-disable-line\n\n/** @param {Namecheap} nc */\nexport default async function list(nc, {\n  sort,\n  desc,\n  page,\n  filter,\n  type,\n  pageSize,\n} = {}) {\n  const { domains, CurrentPage, PageSize, TotalItems } = await nc.domains.getList({\n    page,\n    sort,\n    desc,\n    filter,\n    type,\n    pageSize,\n  })\n  printList(domains)\n  if (CurrentPage * PageSize < TotalItems) {\n    const t = `${CurrentPage}/${Math.ceil(TotalItems/PageSize)}`\n    const answer = await askSingle({\n      text: `Page ${t}. Display more`,\n      defaultValue: 'y',\n    })\n    if (answer == 'y') {\n      await list(nc, {\n        page: CurrentPage + 1,\n        sort,\n        desc,\n        filter,\n        type,\n        pageSize,\n      })\n    }\n  }\n}\n"],"file":"list.js"}